# AmmA Production — лендинг и афиша

Одностраничный сайт продюсерского центра AmmA Production с динамической афишей, которая получает события из локального JSON-файла.

## Структура проекта

- `index.html` — главная страница с краткой информацией, слайдером и блоком предпросмотра ближайших событий.
- `afisha.html` — отдельная страница афиши с сеткой мероприятий.
- `afisha.css` — стили для страницы афиши.
- `afisha.js` — клиентский виджет, который загружает события из `baza_afisha.json` и наполняет карточки.
- `main.js` — логика главной страницы: геро-слайдер, модальное окно афиши и загрузка расписания.
- `admin.html` и `admin.js` — локальная админ-панель для редактирования базы афиши и слайдов героя.
- `baza_afisha.json` — база данных спектаклей с полями id, title, date, time, venue, link, image, description и настройками слайдера.

## Локальный запуск

1. Запустите любой статический сервер (например, `npx serve .` или `python3 -m http.server`).
2. Откройте `http://localhost:3000` (или адрес, выданный сервером) и проверьте работу лендинга и афиши.

## Работа с афишей

- Обновляйте список событий в файле `baza_afisha.json`. Каждая запись содержит идентификатор, название, дату, время, площадку, ссылку на билеты (если есть) и изображение.
- Пустая ссылка на покупку приводит к отображению плашки «Скоро в продаже» в карточках.
- Управляйте слайдами героя через поля `showInHero` (флажок отображения) и `heroOrder` (приоритет сортировки).
- Дополнительная информация (описание, команда, галерея) может оставаться в объекте `AFISHA_SUPPLEMENTAL` внутри `main.js` или переехать в JSON — скрипт отдаёт приоритет данным из `baza_afisha.json`.
- Скрипт `afisha.js` по умолчанию обращается к `baza_afisha.json`, но при необходимости можно задать свой endpoint через атрибут `data-afisha-endpoint`.

## Админ-панель

- Откройте `admin.html` в браузере (например, по адресу `http://localhost:3000/admin.html`, если запущен локальный сервер), чтобы загрузить текущий `baza_afisha.json`.
- Вносите изменения в карточки: название, даты, площадку, изображение и ссылку на билеты. Снимите флажок «Показывать в слайдере», чтобы убрать событие из геро-баннера.
- Используйте кнопки «Скачать JSON» или «Скопировать JSON», чтобы сохранить изменения и заменить файл `baza_afisha.json` в проекте.
- Через пункт «Импортировать файл…» можно подгрузить ранее экспортированную версию и продолжить редактирование.

## Пользовательский виджет афиши

Чтобы встроить сетку афиши на любую страницу, добавьте контейнер с атрибутом `data-afisha-root` и подключите `afisha.js`:

```html
<section data-afisha-root data-afisha-limit="3">
    <div data-afisha-grid>Загрузка…</div>
</section>
<script src="afisha.js" defer></script>
```

По умолчанию виджет обращается к `baza_afisha.json`. Можно переопределить URL через атрибут `data-afisha-endpoint`.
